From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Damien Caliste <dcaliste@free.fr>
Date: Mon, 1 Jul 2024 12:28:42 +0200
Subject: [PATCH] Don't fetch capabilities on smtp creation.

---
 src/plugins/messageservices/smtp/smtpservice.cpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/plugins/messageservices/smtp/smtpservice.cpp b/src/plugins/messageservices/smtp/smtpservice.cpp
index 44d085af..4c7a3390 100644
--- a/src/plugins/messageservices/smtp/smtpservice.cpp
+++ b/src/plugins/messageservices/smtp/smtpservice.cpp
@@ -127,7 +127,8 @@ SmtpService::SmtpService(const QMailAccountId &accountId)
 
     _client.setAccount(accountId);
 
-    fetchCapabilities();
+//  Don't try to autoconnect on account creation for SSO services
+//  fetchCapabilities();
 }
 
 void SmtpService::fetchCapabilities()
