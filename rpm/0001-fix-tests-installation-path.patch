From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Valerio Valerio <valerio.valerio@jollamobile.com>
Date: Tue, 30 Apr 2013 14:38:17 +0300
Subject: [PATCH] fix tests installation path.

---
 .../tst_messageserver/tst_messageserver.pro   |  2 +-
 tests/qt5/tests.xml                           | 54 +++++++++----------
 tests/tests.pri                               |  2 +-
 tests/tests.pro                               |  2 +-
 tests/tests.xml                               | 52 +++++++++---------
 tests/tst_python_email/tst_python_email.pro   |  2 +-
 6 files changed, 57 insertions(+), 57 deletions(-)

diff --git a/benchmarks/tst_messageserver/tst_messageserver.pro b/benchmarks/tst_messageserver/tst_messageserver.pro
index 6b79f069..0c29793a 100644
--- a/benchmarks/tst_messageserver/tst_messageserver.pro
+++ b/benchmarks/tst_messageserver/tst_messageserver.pro
@@ -2,7 +2,7 @@ TEMPLATE = app
 CONFIG += unittest
 QT += testlib widgets qmfclient qmfclient-private qmfmessageserver
 TARGET = tst_messageserver
-target.path += $$QMF_INSTALL_ROOT/tests5
+target.path += /opt/tests/qmf-qt5
 
 DEPENDPATH += . 3rdparty
 
diff --git a/tests/qt5/tests.xml b/tests/qt5/tests.xml
index 7c0974fd..c0639174 100644
--- a/tests/qt5/tests.xml
+++ b/tests/qt5/tests.xml
@@ -5,85 +5,85 @@
     <set name="unit_tests">
       <description>QMF unit tests</description>
       <case name="tst_qmailmessage">
-        <step>/usr/tests/qmf-qt5/tst_qmailmessage</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailmessage</step>
       </case>
       <case name="tst_qmailmessagepart">
-        <step>/usr/tests/qmf-qt5/tst_qmailmessagepart</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailmessagepart</step>
       </case>
       <case name="tst_qmailmessagebody">
-        <step>/usr/tests/qmf-qt5/tst_qmailmessagebody</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailmessagebody</step>
       </case>
       <case name="tst_qmailmessageheader">
-        <step>/usr/tests/qmf-qt5/tst_qmailmessageheader</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailmessageheader</step>
       </case>
       <case name="tst_qmailcodec">
-        <step>/usr/tests/qmf-qt5/tst_qmailcodec</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailcodec</step>
       </case>
       <case name="tst_qmailstore">
-        <step>/usr/tests/qmf-qt5/tst_qmailstore</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailstore</step>
       </case>
       <case name="tst_longstring">
-        <step>/usr/tests/qmf-qt5/tst_longstring</step>
+        <step>/opt/tests/qmf-qt5/tst_longstring</step>
       </case>
       <case name="tst_python_email">
-        <step>/usr/tests/qmf-qt5/tst_python_email</step>
+        <step>/opt/tests/qmf-qt5/tst_python_email</step>
       </case>
       <case name="tst_qmailaddress">
-        <step>/usr/tests/qmf-qt5/tst_qmailaddress</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailaddress</step>
       </case>
       <case name="tst_qmailstorekeys">
-        <step>/usr/tests/qmf-qt5/tst_qmailstorekeys</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailstorekeys</step>
       </case>
       <case name="tst_longstream">
-        <step>/usr/tests/qmf-qt5/tst_longstream</step>
+        <step>/opt/tests/qmf-qt5/tst_longstream</step>
       </case>
       <case name="tst_qmailaccountkey">
-        <step>/usr/tests/qmf-qt5/tst_qmailaccountkey</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailaccountkey</step>
       </case>
       <case name="tst_qmailnamespace">
-        <step>/usr/tests/qmf-qt5/tst_qmailnamespace</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailnamespace</step>
       </case>
       <case name="tst_qmail_listmodels">
-        <step>/usr/tests/qmf-qt5/tst_qmail_listmodels</step>
+        <step>/opt/tests/qmf-qt5/tst_qmail_listmodels</step>
       </case>
       <case name="tst_qmail_sortkeys">
-        <step>/usr/tests/qmf-qt5/tst_qmail_sortkeys</step>
+        <step>/opt/tests/qmf-qt5/tst_qmail_sortkeys</step>
       </case>
       <case name="tst_qmaildisconnected">
-        <step>/usr/tests/qmf-qt5/tst_qmaildisconnected</step>
+        <step>/opt/tests/qmf-qt5/tst_qmaildisconnected</step>
       </case>
       <case name="tst_qmailmessageset">
-        <step>/usr/tests/qmf-qt5/tst_qmailmessageset</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailmessageset</step>
       </case>
       <case name="tst_qmailserviceaction">
-        <step>/usr/tests/qmf-qt5/tst_qmailserviceaction</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailserviceaction</step>
       </case>
       <case name="tst_storagemanager">
-        <step>/usr/tests/qmf-qt5/tst_storagemanager</step>
+        <step>/opt/tests/qmf-qt5/tst_storagemanager</step>
       </case>
       <case name="tst_qmailthread">
-        <step>/usr/tests/qmf-qt5/tst_qmailthread</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailthread</step>
       </case>
       <case name="tst_qmailaccountconfiguration">
-        <step>/usr/tests/qmf-qt5/tst_qmailaccountconfiguration</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailaccountconfiguration</step>
       </case>
       <case name="tst_qmailstorageaction">
-        <step>/usr/tests/qmf-qt5/tst_qmailstorageaction</step>
+        <step>/opt/tests/qmf-qt5/tst_qmailstorageaction</step>
       </case>
       <case name="tst_crypto">
-        <step>/usr/tests/qmf-qt5/tst_crypto</step>
+        <step>/opt/tests/qmf-qt5/tst_crypto</step>
       </case>
       <!-- The protocol tests are work in progress
       <case name="tst_imap">
-        <step>/usr/tests/qmf-qt5/tst_imap</step>
+        <step>/opt/tests/qmf-qt5/tst_imap</step>
       </case>
       <case name="tst_smtp">
-        <step>/usr/tests/qmf-qt5/tst_smtp</step>
+        <step>/opt/tests/qmf-qt5/tst_smtp</step>
       </case>
       <case name="tst_pop">
-        <step>/usr/tests/qmf-qt5/tst_pop</step>
+        <step>/opt/tests/qmf-qt5/tst_pop</step>
       </case>
       -->
     </set>
-  </suite>
+   </suite>
 </testdefinition>
diff --git a/tests/tests.pri b/tests/tests.pri
index a4ed42ef..5c49e9d7 100644
--- a/tests/tests.pri
+++ b/tests/tests.pri
@@ -3,7 +3,7 @@ QT += testlib
 CONFIG += testcase
 
 QT += qmfclient qmfclient-private
-target.path += $$QMF_INSTALL_ROOT/tests5
+target.path += /opt/tests/qmf-qt5
 
 INSTALLS += target
 
diff --git a/tests/tests.pro b/tests/tests.pro
index a6b36e3f..989510df 100644
--- a/tests/tests.pro
+++ b/tests/tests.pro
@@ -33,5 +33,5 @@ CONFIG += unittest
 
 # Install test file description
 test_description.files = qt5/tests.xml
-test_description.path  = $$QMF_INSTALL_ROOT/tests5
+test_description.path  = /opt/tests/qmf-qt5/test-definition
 INSTALLS += test_description
diff --git a/tests/tests.xml b/tests/tests.xml
index 74bbd185..4eb98179 100644
--- a/tests/tests.xml
+++ b/tests/tests.xml
@@ -5,83 +5,83 @@
     <set name="unit_tests">
       <description>QMF unit tests</description>
       <case name="tst_qmailmessage">
-        <step>/usr/tests/qmf/tst_qmailmessage</step>
+        <step>/opt/tests/qmf/tst_qmailmessage</step>
       </case>
       <case name="tst_qmailmessagepart">
-        <step>/usr/tests/qmf/tst_qmailmessagepart</step>
+        <step>/opt/tests/qmf/tst_qmailmessagepart</step>
       </case>
       <case name="tst_qmailmessagebody">
-        <step>/usr/tests/qmf/tst_qmailmessagebody</step>
+        <step>/opt/tests/qmf/tst_qmailmessagebody</step>
       </case>
       <case name="tst_qmailmessageheader">
-        <step>/usr/tests/qmf/tst_qmailmessageheader</step>
+        <step>/opt/tests/qmf/tst_qmailmessageheader</step>
       </case>
       <case name="tst_qmailcodec">
-        <step>/usr/tests/qmf/tst_qmailcodec</step>
+        <step>/opt/tests/qmf/tst_qmailcodec</step>
       </case>
       <case name="tst_qmailstore">
-        <step>/usr/tests/qmf/tst_qmailstore</step>
+        <step>/opt/tests/qmf/tst_qmailstore</step>
       </case>
       <case name="tst_longstring">
-        <step>/usr/tests/qmf/tst_longstring</step>
+        <step>/opt/tests/qmf/tst_longstring</step>
       </case>
       <case name="tst_python_email">
-        <step>/usr/tests/qmf/tst_python_email</step>
+        <step>/opt/tests/qmf/tst_python_email</step>
       </case>
       <case name="tst_qmailaddress">
-        <step>/usr/tests/qmf/tst_qmailaddress</step>
+        <step>/opt/tests/qmf/tst_qmailaddress</step>
       </case>
       <case name="tst_qmailstorekeys">
-        <step>/usr/tests/qmf/tst_qmailstorekeys</step>
+        <step>/opt/tests/qmf/tst_qmailstorekeys</step>
       </case>
       <case name="tst_longstream">
-        <step>/usr/tests/qmf/tst_longstream</step>
+        <step>/opt/tests/qmf/tst_longstream</step>
       </case>
       <case name="tst_qmailaccountkey">
-        <step>/usr/tests/qmf/tst_qmailaccountkey</step>
+        <step>/opt/tests/qmf/tst_qmailaccountkey</step>
       </case>
       <case name="tst_qmailnamespace">
-        <step>/usr/tests/qmf/tst_qmailnamespace</step>
+        <step>/opt/tests/qmf/tst_qmailnamespace</step>
       </case>
       <case name="tst_qmail_listmodels">
-        <step>/usr/tests/qmf/tst_qmail_listmodels</step>
+        <step>/opt/tests/qmf/tst_qmail_listmodels</step>
       </case>
       <case name="tst_qmail_sortkeys">
-        <step>/usr/tests/qmf/tst_qmail_sortkeys</step>
+        <step>/opt/tests/qmf/tst_qmail_sortkeys</step>
       </case>
       <case name="tst_qmaildisconnected">
-        <step>/usr/tests/qmf/tst_qmaildisconnected</step>
+        <step>/opt/tests/qmf/tst_qmaildisconnected</step>
       </case>
       <case name="tst_qmailmessageset">
-        <step>/usr/tests/qmf/tst_qmailmessageset</step>
+        <step>/opt/tests/qmf/tst_qmailmessageset</step>
       </case>
       <case name="tst_qmailserviceaction">
-        <step>/usr/tests/qmf/tst_qmailserviceaction</step>
+        <step>/opt/tests/qmf/tst_qmailserviceaction</step>
       </case>
       <case name="tst_storagemanager">
-        <step>/usr/tests/qmf/tst_storagemanager</step>
+        <step>/opt/tests/qmf/tst_storagemanager</step>
       </case>
       <case name="tst_qmailthread">
-        <step>/usr/tests/qmf/tst_qmailthread</step>
+        <step>/opt/tests/qmf/tst_qmailthread</step>
       </case>
       <case name="tst_qmailaccountconfiguration">
-        <step>/usr/tests/qmf/tst_qmailaccountconfiguration</step>
+        <step>/opt/tests/qmf/tst_qmailaccountconfiguration</step>
       </case>
       <case name="tst_qmailstorageaction">
-        <step>/usr/tests/qmf/tst_qmailstorageaction</step>
+        <step>/opt/tests/qmf/tst_qmailstorageaction</step>
       </case>
       <case name="tst_crypto">
-        <step>/usr/tests/qmf/tst_crypto</step>
+        <step>/opt/tests/qmf/tst_crypto</step>
       </case>
       <!-- The protocol tests are work in progress
       <case name="tst_imap">
-        <step>/usr/tests/qmf/tst_imap</step>
+        <step>/opt/tests/qmf/tst_imap</step>
       </case>
       <case name="tst_smtp">
-        <step>/usr/tests/qmf/tst_smtp</step>
+        <step>/opt/tests/qmf/tst_smtp</step>
       </case>
       <case name="tst_pop">
-        <step>/usr/tests/qmf/tst_pop</step>
+        <step>/opt/tests/qmf/tst_pop</step>
       </case>
       -->
     </set>
diff --git a/tests/tst_python_email/tst_python_email.pro b/tests/tst_python_email/tst_python_email.pro
index 4cde1fe3..204ecd5a 100644
--- a/tests/tst_python_email/tst_python_email.pro
+++ b/tests/tst_python_email/tst_python_email.pro
@@ -4,7 +4,7 @@ TARGET = tst_python_email
 
 DEFINES += SRCDIR=\\\"$$_PRO_FILE_PWD_\\\"
 
-testdata.path = $$QMF_INSTALL_ROOT/tests5/testdata
+testdata.path = /opt/tests/qmf-qt5/testdata
 testdata.files = testdata/*
 
 INSTALLS += testdata
